[gd_resource type="Resource" script_class="Move" load_steps=3 format=3]

[ext_resource type="Resource" path="res://Ailments/none.tres" id="1_riwgx"]
[ext_resource type="Script" path="res://typedef/Move.gd" id="2_y81ju"]

[resource]
script = ExtResource("2_y81ju")
id = 164
name = "substitute"
accuracy = 0
effect_chance = 0
pp = 10
priority = 0
power = 0
damage_class = "status"
effect = "Transfers 1/4 the user's max HP into a doll that absorbs damage and causes most negative move effects to fail.  If the user leaves the field, the doll will vanish.  If the user cannot pay the HP cost, this move will fail.

The doll takes damage as normal, using the user's stats and types, and will break when its HP reaches zero.  Self-inflicted damage from confusion or recoil is not absorbed.  Healing effects from opponents ignore the doll and heal the user as normal.  Moves that work based on the user's HP still do so; the doll's HP does not influence any move.

The doll will block major status effects, confusion, and flinching.  The effects of smelling salts and wake up slap do not trigger against a doll, even if the Pokémon behind the doll has the appropriate major status effect.  Multi-turn trapping moves like wrap will hit the doll for their regular damage, but the multi-turn trapping and damage effects will not activate.

Moves blocked or damage absorbed by the doll do not count as hitting the user or inflicting damage for any effects that respond to such, e.g., avalanche, counter, or a rowap berry.  magic coat still works as normal, even against moves the doll would block.  Opposing Pokémon that damage the doll with a leech move like absorb are healed as normal.

It will also block acupressure, block, the curse effect of curse, dream eater, embargo, flatter, gastro acid, grudge, heal block, leech seed, lock on, mean look, mimic, mind reader, nightmare, pain split, psycho shift, spider web, sketch, swagger, switcheroo, trick, worry seed, and yawn.  A Pokémon affected by yawn before summoning the doll will still fall to sleep.

The doll blocks intimidate, but all other abilities act as though the doll did not exist.  If the user has an ability that absorbs moves of a certain type for HP (such as volt absorb absorbing thunder wave), such moves will not be blocked.

life orb and berries that cause confusion still work as normal, but their respective HP loss and confusion are absorbed/blocked by the doll.

The user is still vulnerable to damage inflicted when entering or leaving the field, such as by pursuit or spikes; however, the doll will block the poison effect of toxic spikes.

The doll is passed on by baton pass.  It keeps its existing HP, but uses the replacement Pokémon's stats and types for damage calculation.

All other effects work as normal."
stat_changes = []
target = "user"
type = 0
ailment = ExtResource("1_riwgx")
category = "unique"
min_hits = 0
max_hits = 0
min_turns = 0
max_turns = 0
drain = 0
healing = 0
crit_rate = 0
ailment_chance = 0
flinch_chance = 0
stat_chance = 0
